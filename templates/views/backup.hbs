{{>header}}

<div class="container py-5">
  <header>
    <table>
      <thead>
        <tr>
          <div class="d-flex justify-content-between align-items-center">
            <img src="/img/logo.png" class="img-fluid logo" />
            <h5 class="text-uppercase text-bg-dark">Quotation</h5>
          </div>
        </tr>
        <tr>
          <div class="detail row py-4">
            <div class="col">
              <h5 class="p-0 text-start">{{data.details.form.type}}</h5>
              <p>No: {{data.details.form.number}}</p>
              <p>Date: 06/08/2022</p>
            </div>
            <div class="col">
              <h5 class="p-0 text-start">Customer</h5>
              <p>Name: {{data.details.customer.name}}</p>
              <p>Region: {{data.details.customer.region}}</p>
            </div>
            <div class="col">
              <h5 class="p-0 text-start">Company</h5>
              <p>Name: {{data.details.company.name}}</p>
              <p>Industry: {{data.details.company.industry}}</p>
            </div>
          </div>
        </tr>
      </thead>
    </table>
  </header>
  <main>
    <table class="table table-sm invoice-table">
      <thead>
        <tr>
          <th scope="col">Items</th>
          <th scope="col">Quantity</th>
          <th scope="col">Total</th>
        </tr>
      </thead>
      <tbody>
        {{#each data.Items}}
        <tr>
          <td>
            <h5>{{this.title}}</h5>
            {{!-- @One Column --}}
            {{#equalTo this.subtitle.length 1}}
            {{#each this.subtitle}}
            <p class="fs-9 fw-light mb-0 text-start">
              {{this.name}}: {{this.value}}
            </p>
            {{/each}}
            {{/equalTo}}
            {{!-- @Two columns --}}
            {{#equalTo this.subtitle.length 2}}
            <div class="row p-0">
              <div class="col">
                {{#times 0 3}}
                {{!-- Working --}}
                {{#with (lookup ../this.subtitle @index)}}
                <p class="mb-0 text-start">{{this.name}}: {{this.value}}</p>
                {{/with}}
                {{!-- <p class="mb-0 text-start">{{this.name}}: {{this.value}}</p> --}}
                {{/times}}
              </div>
              <div class="col">
                {{#times 3 this.subtitle.length}}
                {{!-- Working --}}
                {{#with (lookup ../this.subtitle @index)}}
                <p class="mb-0 text-start">{{name}}: {{value}}</p>
                {{/with}}
                {{!-- <p class="mb-0 text-start">{{this.name}}: {{this.value}}</p> --}}
                {{/times}}
              </div>
              <div class="col"></div>
            </div>
            {{/equalTo}}
            {{!-- @Three columns --}}
            {{#equalTo this.subtitle.length 3}}
            <div class="row p-0">
              <div class="col">
                {{#times 0 5}}
                {{!-- Working --}}
                {{#with (lookup ../this.subtitle @index)}}
                <p class="mb-0 text-start">{{this.name}}: {{this.value}}</p>
                {{/with}}
                {{!-- <p class="mb-0 text-start">{{this.name}}: {{this.value}}</p> --}}
                {{/times}}
              </div>
              <div class="col">
                {{#times 5 10}}
                {{!-- Working --}}
                {{#with (lookup ../this.subtitle @index)}}
                <p class="mb-0 text-start">{{name}}: {{value}}</p>
                {{/with}}
                {{!-- <p class="mb-0 text-start">{{this.name}}: {{this.value}}</p> --}}
                {{/times}}
              </div>
              <div class="col">
                {{#times 10 this.subtitle.length}}
                {{!-- Working --}}
                {{#with (lookup ../this.subtitle @index)}}
                <p class="mb-0 text-start">{{name}}: {{value}}</p>
                {{/with}}
                {{!-- <p class="mb-0 text-start">{{this.name}}: {{this.value}}</p> --}}
                {{/times}}
              </div>
            </div>
            {{/equalTo}}
          </td>
          <td>{{this.qty}}</td>
          <td>{{this.total}}</td>
        </tr>
        {{/each}}
        {{!-- <tr>
          <td>
            <h5>UofCanada - Sunshade</h5>
            <span>Print Type: Silkscreen or UV</span><br />
            <span>Print Type: Silkscreen or UV</span><br />
            <span>Print Type: Silkscreen or UV</span>
          </td>
          <td>300</td>
          <td>5000</td>
        </tr>
        <tr>
          <td>
            <h5>UofCanada - Sunshade</h5>
            <span>Print Type: Silkscreen or UV</span><br />
            <span>Print Type: Silkscreen or UV</span><br />
            <span>Print Type: Silkscreen or UV</span>
          </td>
          <td>300</td>
          <td>5000</td>
        </tr>
        <tr>
          <td>
            <h5>UofCanada - Sunshade</h5>
            <span>Print Type: Silkscreen or UV</span><br />
            <span>Print Type: Silkscreen or UV</span><br />
            <span>Print Type: Silkscreen or UV</span><br />
            <span>Print Type: Silkscreen or UV</span><br />
            <span>Print Type: Silkscreen or UV</span>
          </td>
          <td>300</td>
          <td>5000</td>
        </tr> --}}
        <!-- Footer -->
        <tr class="foot">
          <td rowspan="4" class="text-start align-top" style="border-left: 0; border-bottom-color: transparent">
            <h5>Payment Method</h5>
            <div class="d-flex mb-2">
              <div class="col text-start me-2 border-table px-1">
                <div class="d-flex align-items-center py-2">
                  <div class="col-3 px-2 m-0">
                    <img src="/img/wallets.png" class="img-fluid icon" />
                  </div>
                  <div class="d-inline text-start m-0">
                    <h5 class="text-start m-0">E-Wallet</h5>
                    <p class="text-sm text-start m-0">
                      Vodafone Cash, Etisalat Cash, Orange Money
                    </p>
                  </div>
                </div>
              </div>
              <div class="col text-start me-2 border-table px-1">
                <div class="d-flex align-items-center py-2">
                  <div class="col-3 px-2 m-0">
                    <img src="/img/kiosk.png" class="img-fluid icon" />
                  </div>
                  <div class="d-inline text-start m-0">
                    <h5 class="text-start m-0">Kiosk Payment</h5>
                    <p class="text-sm text-start m-0">
                      Aman, Masary, Momkn
                    </p>
                  </div>
                </div>
              </div>
              <div class="col text-start">
                <p class="text-start m-0 ms-2 credit-text">
                  <span>Also,</span><br />
                  Cash & Credit <br />
                  Card at <b>Office</b>
                </p>
              </div>
            </div>
            <span>* This price is valid for 3 days only.</span>
          </td>
          <td>Sub Total</td>
          <td>148350</td>
        </tr>
        <tr class="foot">
          <td class="text-center">Discount</td>
          <td>-7415</td>
        </tr>
        <tr class="foot">
          <td class="text-center">Tax (14%)</td>
          <td>19731</td>
        </tr>
        <tr class="foot">
          <td class="bg-dark text-white text-center align-middle">Total</td>
          <td>1600666</td>
        </tr>
      </tbody>
    </table>
  </main>
  <footer>
    <div class="detail d-flex py-4 justify-content-between">
      <div>
        <p>16 Mahmoud Khairy,<br />Nasr City, Cairo, Egypt.</p>
      </div>
      <div>
        <p>+20 1097977924<br />+20 1097977924</p>
      </div>
      <div>
        <p>office@freshprint.eg<br />office@freshprint.eg</p>
      </div>
    </div>
  </footer>
  <div class="float-end">
    <a href="/generatePDF" class="btn btn-success rounded-0">Export As PDF</a>
  </div>
</div>
<script>
  const msg = `{{{msg}}}`
  if (msg) {
    alert(msg)
  }
</script>
{{>footer}}